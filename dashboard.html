<!DOCTYPE html>
<html>
<head>
  <title>BLOXTOP - Dashboard</title>
</head>
<body style="background:#121212;font-family:Arial;">

<div style="background:#1e1e2f;padding:20px;border-radius:10px;color:white;width:300px;margin:100px auto;text-align:center;box-shadow:0 0 10px rgba(0,0,0,0.5);">

  <h2 style="color:#b57cff;">Saldo Kamu</h2>

  <h1 id="saldoText">Rp 0</h1>

  <button onclick="topup()" 
    style="background:purple;color:white;padding:10px 15px;border:none;border-radius:6px;cursor:pointer;">
    Topup Saldo
  </button>

</div>

<script>

// kalau belum ada user login, bikin default
if(!localStorage.getItem("loginUser")){
  localStorage.setItem("loginUser","guest");
}

let username = localStorage.getItem("loginUser");

// tampilkan saldo
function tampilSaldo(){
  let saldo = parseInt(localStorage.getItem("saldo_"+username)) || 0;
  document.getElementById("saldoText").innerText = 
    "Rp " + saldo.toLocaleString("id-ID");
}

tampilSaldo();

// fungsi topup
function topup(){
  let nominal = prompt("Masukkan nominal topup:");

  if(!nominal || isNaN(nominal)){
    alert("Nominal tidak valid!");
    return;
  }

  nominal = parseInt(nominal);

  let saldo = parseInt(localStorage.getItem("saldo_"+username)) || 0;
  saldo += nominal;

  localStorage.setItem("saldo_"+username, saldo);

  alert("Topup berhasil!");
  tampilSaldo();
}

</script>

</body>
</html>
